jQuery(function(o){function a(){o("#logichop-modal-backdrop").hide(),o("#logichop-modal-wrap").hide(),o(".logichop-modal-form select, .logichop-modal-form input").val("")}function i(){o("#_logichop_page_goal_js_event").val()&&o("#_logichop_page_goal_js_element").val()&&o("#_logichop_page_goal_js").val()?o(this).parent().removeClass("half-set").addClass("set"):o("#_logichop_page_goal_js_event").val()||o("#_logichop_page_goal_js_element").val()||o("#_logichop_page_goal_js").val()?o(this).parent().removeClass("set").addClass("half-set"):o(this).parent().removeClass("half-set set")}function t(){o("#_logichop_page_condition").val()&&o("#_logichop_page_redirect").val()?o(this).parent().removeClass("half-set").addClass("set"):o("#_logichop_page_condition").val()||o("#_logichop_page_redirect").val()?o(this).parent().removeClass("set").addClass("half-set"):o(this).parent().removeClass("half-set set")}var l="";o("#content").on("mouseup keyup",function(){window.getSelection()&&(l=window.getSelection().toString())}),o("body").on("click",".logichop-editor",function(){o("#logichop-modal-backdrop").fadeIn(),o("#logichop-modal-wrap").fadeIn()}),o("#logichop-modal-backdrop, .logichop-modal-close, .logichop-modal-cancel").on("click",a),o(".logichop-modal-content .nav-tab").on("click",function(a){o(".logichop-modal-content .nav-tab").removeClass("nav-tab-active"),o(this).addClass("nav-tab-active"),o(".nav-tab-display").removeClass("nav-tab-display-active"),o("."+o(this).attr("data-tab")).addClass("nav-tab-display-active"),a.preventDefault()}),o("#logichop_insert_condition").on("click",function(i){var t=o("#logichop_condition").val(),n=o("#logichop_condition option:selected").attr("data-slug");t&&n&&(window.send_to_editor('[logichop_condition id="'+t+'" condition="'+n+'"]'+l+"[/logichop_condition]"),a()),i.preventDefault()}),o("#logichop_insert_condition_not").on("click",function(i){var t=o("#logichop_condition_not").val(),n=o("#logichop_condition_not option:selected").attr("data-slug");t&&n&&(window.send_to_editor('[logichop_condition_not id="'+t+'" condition="'+n+'"]'+l+"[/logichop_condition_not]"),a()),i.preventDefault()}),o("#logichop_insert_goal").on("click",function(i){var t=o("#logichop_goal").val(),l=o("#logichop_goal option:selected").attr("data-slug");t&&l&&(window.send_to_editor("[logichop_goal goal="+t+' goal-name="'+l+'"]'),a()),i.preventDefault()}),o("#logichop_insert_conditional_goal").on("click",function(i){var t=o("#logichop_conditional").val(),l=o("#logichop_conditional option:selected").attr("data-slug"),n=o("#logichop_conditional_goal").val(),e=o("#logichop_conditional_goal option:selected").attr("data-slug");t&&l&&n&&e&&(window.send_to_editor('[logichop_conditional_goal id="'+t+'" condition="'+l+'" goal='+n+' goal-name="'+e+'"]'),a()),i.preventDefault()}),o("#logichop_insert_data_var").on("click",function(i){var t=o("#logichop_data_var").val();t&&(window.send_to_editor('[logichop_data var="'+t+'"]'),a()),i.preventDefault()}),o("#logichop_insert_js_condition").on("click",function(i){var t=o("#logichop_condition_js").val(),n=o("#logichop_condition_display").val()?' style="'+o("#logichop_condition_display").val()+'"':"",e=o("#logichop_condition_event").val()?' data-event="'+o("#logichop_condition_event").val()+'"':"",c=o("#logichop_condition_not_js").val()?' data-not="'+o("#logichop_condition_not_js").val()+'"':"",_=o("#logichop_condition_css_add").val()?' data-css-add="'+o("#logichop_condition_css_add").val()+'"':"",s=o("#logichop_condition_css_remove").val()?' data-css-remove="'+o("#logichop_condition_css_remove").val()+'"':"";t&&(window.send_to_editor('<div class="logichop-js" data-cid="'+t+'"'+n+e+c+_+s+">"+l+"</div>"),a()),i.preventDefault()}),o("#logichop_insert_ck_condition").on("click",function(i){var t=o("#logichop_convertkit_var").val();t&&(window.send_to_editor('[logichop_data var="'+t+'"]'),a()),i.preventDefault()}),o("#logichop_insert_drip_condition").on("click",function(i){var t=o("#logichop_drip_var").val();t&&(window.send_to_editor('[logichop_data var="'+t+'"]'),a()),i.preventDefault()}),o(".logichop-meta-clear").on("click",function(a){var i=o(this).closest(".logichop-meta");i.removeClass("half-set set").children("select, input").val(""),a.preventDefault()}),o("#_logichop_page_goal").on("change",function(){o(this).val()?o(this).parent().addClass("set"):o(this).parent().removeClass("set")}),o("#_logichop_track_page").on("change",function(){"enabled"==o(this).val()?o(this).parent().addClass("set"):o(this).parent().removeClass("set")}),o("#_logichop_page_goal_condition, #_logichop_page_goal_on_condition").on("change",function(){o("#_logichop_page_goal_condition").val()&&o("#_logichop_page_goal_on_condition").val()?o(this).parent().removeClass("half-set").addClass("set"):o("#_logichop_page_goal_condition").val()||o("#_logichop_page_goal_on_condition").val()?o(this).parent().removeClass("set").addClass("half-set"):o(this).parent().removeClass("half-set set")}),o("#_logichop_page_goal_js_event, #_logichop_page_goal_js_element, #_logichop_page_goal_js").on("change",i),o("#_logichop_page_goal_js_element").on("keyup",i),o("#_logichop_page_condition, #_logichop_page_redirect").on("change",t),o("#_logichop_page_redirect").on("keyup",t)});